<?php
try {
    // Database connection string
    $connString = "mysql:host=localhost;dbname=db_86471588;charset=utf8"; // Replace 'db_yourCWL' with your actual database name
    $user = "86471588";  // Replace 'yourStudentID' with your actual database username
    $pass = "86471588";  // Replace 'yourMySQLPassword' with your actual database password

    // Create a PDO instance (connect to the database)
    $pdo = new PDO($connString, $user, $pass);
    // Set the PDO error mode to exception
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

    // SQL query
    $sql = "SELECT * FROM Categories ORDER BY CategoryName";  // Make sure table name and columns are correct
    // Execute the query and get the result set
    $result = $pdo->query($sql);

    // Fetch and display each row of the result set
    while ($row = $result->fetch()) {
        echo $row['ID'] . " - " . $row['CategoryName'] . "<br/>";
    }

    // Close the database connection
    $pdo = null;
} catch (PDOException $e) {
    // If an error occurs, the script stops and displays the error message
    die("Connection failed: " . $e->getMessage());
}
?>


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In</title>
    <link rel="stylesheet" href="css/login-createpost.css">
</head>


<body>
    <header>
       
        <a href="Home.html"><h1>Talks@UBC</h1></a>

    </header>
    <main>
        <div id = "login"> 
            <form  id="login-form" method ="post" action ="#">
                <fieldset>
                    <legend>Log In</legend>
                    <p>
                    <label>Username : </label>
                    <input type ="text" name = "username" required minlength="4" maxlength="20"/>
                    </p>
                    <p>
                        <label>Password : </label>
                        <input type ="password" name = "password" required minlength="8" maxlength="20"/>
                    </p>
                    <input type ="submit"/>
                </fieldset>
            </form>
            

        </div>

        <div id = "signup">
            <form id="signup-form" method ="post" action ="#">
                <fieldset>
                    <legend>Sign Up</legend>
                    <p>
                        <label>First Name : </label>
                        <input type ="text" name = "name" required minlength="2" maxlength="20"/>
                    </p>
                    <p>
                        <label>Last Name : </label>
                        <input type ="text" name = "lastname" required minlength="2" maxlength="20"/>
                    </p>
                    <p>
                        <label>Email : </label>
                        <input type ="email" name = "email" required/>
                    </p>
                    <p>
                    <label>Username : </label>
                    <input type ="text" name = "username" required minlength="4" maxlength="20"/>
                    </p>
                    <p>
                        <label>Password : </label>
                        <input type ="password" name = "password" required minlength="8" maxlength="20"/>
                    </p>
                    <p>
                        <label>By checking this box, I accept the software license</label>
                        <input type = "checkbox" name = "accept">
                    </p>
                    <input type ="submit"/>

                </fieldset>
            </form>
        </div>
    </main>

</body>

</html>